<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Solicitacao</title>
    <script>

        function callDados() {

         var xhr;   
        //Fazer o código compatível com todas as versões dos navegadores
        if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest;
        } else {
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        }

        //var xhr = new XMLHttpRequest(); //XMLHttpRequest() = é uma API disponível em linguagens de script para navegadores web tais como JavaScript. É utilizada para enviar requisições HTTP ou HTTPS
        xhr.open('GET', 'dados.txt'); //false ou true | false = função síncrona | true = função assíncrona
        xhr.onreadystatechange = function () { //para trabalhar com onreadystagechange tem q ser true ou não coloca nada
            console.log(xhr); console.log("Aqui!")
            if (xhr.readyState == 2) {
                console.log("REQUESIÇÃO RECEBIDA");
            }
            if (xhr.readyState == 3) {
                console.log("Loading... ");
            }
            if (xhr.readyState == 4) {
                console.log("REQUISIÇÃO FINALIZADA");
                var dom = document.getElementById('dinamico');
                dom.innerHTML = xhr.responseText;

                var title = document.getElementsByTagName('h1');
                title[0].innerHTML = xhr.responseText;
            }
            if (xhr.status == 404) {
                console.log("Página não encontrada");
            }
        }
        xhr.send();
        }

        function closeName () {
            document.getElementById('dinamico').style.display = "none";
        }
        

        /*
        var xhr = new XMLHttpRequest(),
            method = "GET",
            url = "http://127.0.0.1:5500/php_ajax/unidade_02/dados.txt";

        xhr.open(method, url, true);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
                console.log(xhr.responseText);
            } if (xhr.status === 404) {
                console.log("here-02");
            }
        };
        xhr.send();*/

    </script>
</head>

<body>

    <button onclick="callDados();" >Clike em mim</button>
    <div><h1 id="dinamico"></h1></div>
    
    <button onclick="closeName();" id="botao">Fechar</button>

</body>

</html>